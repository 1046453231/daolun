(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["pages/my/select"],{"0f19":function(e,t,n){},"54b5":function(e,t,n){"use strict";n.r(t);var u=n("7c9a"),o=n.n(u);for(var s in u)"default"!==s&&function(e){n.d(t,e,(function(){return u[e]}))}(s);t["default"]=o.a},"7c9a":function(e,t,n){"use strict";(function(e,n){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u={data:function(){return{list:[],uid:"",selectCourse:null,list2:[]}},onLoad:function(){var t=this;this.uid=e.getStorageSync("user_info")._id||"";var u=n.database();u.collection("course").get().then((function(e){for(var n=e.result.data,u=0;u<n.length;u++)if(n[u]["course_student"].hasOwnProperty(t.uid)){if(2==n[u]["course_student"][t.uid].status){var o=n[u];o._id,o.course_advance,o.course_ppt,o.course_name,o.course_teacher,o.course_teacher_name,o.course_info,n[u]["course_student"][t.uid];t.list2.push(n[u]._id)}}else{var s=n[u],c=s._id,a=s.course_advance,r=s.course_ppt,i=s.course_name,l=s.course_teacher,d=s.course_teacher_name,f=s.course_info;t.list.push({_id:c,course_advance:a,course_ppt:r,course_name:i,course_teacher:l,course_teacher_name:d,course_info:f})}}))},methods:{openModal:function(e){this.selectCourse=e,this.$refs.popup.open()},openModal2:function(t){var u=this;this.selectCourse=t;for(var o=0;o<this.selectCourse.course_advance.length;o++)if(console.log(this.list2),-1==this.list2.indexOf(this.selectCourse.course_advance[o]))return void e.showModal({title:"您没有学习该课程的先修课程，不能进行选课！"});var s=n.database();s.collection("course").doc(this.selectCourse._id).get().then((function(t){var n=t.result.data[0];n.course_student[u.uid]={nickname:e.getStorageSync("user_info").nickname,username:e.getStorageSync("user_info").username,status:0},delete n._id,s.collection("course").doc(u.selectCourse._id).update(n).then((function(t){e.showToast({icon:"success",title:"选课成功",duration:800,success:function(){setTimeout((function(){e.navigateBack({delta:1})}),800)}})}))}))},downLoad:function(){e.downloadFile({url:this.selectCourse.course_ppt,success:function(t){200===t.statusCode&&console.log("下载成功"),e.openDocument({filePath:t.tempFilePath})}})},goChat:function(){e.navigateTo({url:"/pages/message/chat?data="+JSON.stringify({content:[],vid:this.selectCourse.course_teacher,vname:this.selectCourse.course_teacher_name})})}}};t.default=u}).call(this,n("543d")["default"],n("a9ff")["default"])},"80ad":function(e,t,n){"use strict";var u=n("0f19"),o=n.n(u);o.a},8442:function(e,t,n){"use strict";n.r(t);var u=n("8b02"),o=n("54b5");for(var s in o)"default"!==s&&function(e){n.d(t,e,(function(){return o[e]}))}(s);n("80ad");var c,a=n("f0c5"),r=Object(a["a"])(o["default"],u["b"],u["c"],!1,null,null,null,!1,u["a"],c);t["default"]=r.exports},"8b02":function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"a",(function(){return u}));var u={uniPopup:function(){return n.e("uni_modules/uni-popup/components/uni-popup/uni-popup").then(n.bind(null,"c046"))}},o=function(){var e=this,t=e.$createElement;e._self._c},s=[]},"8f1e":function(e,t,n){"use strict";(function(e){n("c22e");u(n("66fd"));var t=u(n("8442"));function u(e){return e&&e.__esModule?e:{default:e}}wx.__webpack_require_UNI_MP_PLUGIN__=n,e(t.default)}).call(this,n("543d")["createPage"])}},[["8f1e","common/runtime","common/vendor"]]]);